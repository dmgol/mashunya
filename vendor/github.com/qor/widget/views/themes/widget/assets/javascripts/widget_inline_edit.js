"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(t){function e(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,t.isPlainObject(i)&&i),this.init()}var n,i=t("body"),o="qor.widget.inlineEdit",r="enable."+o,d="disable."+o,a="click."+o,u=".qor-widget-button",c="qor-widget-iframe";return e.prototype={constructor:e,init:function(){this.bind(),this.initStatus()},bind:function(){this.$element.on(a,u,this.click),t(document).on("keyup",this.keyup)},initStatus:function(){var e=document.createElement("iframe");e.src=n,e.id=c,e.attachEvent?e.attachEvent("onload",function(){t(".qor-widget-button").show()}):e.onload=function(){t(".qor-widget-button").show()},document.body.appendChild(e)},keyup:function(t){var e=document.getElementById("qor-widget-iframe");27===t.keyCode&&e&&e.contentDocument.querySelector(".qor-slideout__close").click()},click:function(){var e=t(this),n=document.getElementById("qor-widget-iframe"),o=n.contentWindow.$,r=n.contentDocument.querySelector(".js-widget-edit-link");if(r)return n.classList.add("show"),o?o(".js-widget-edit-link").data("url",e.data("url")).click():(r.setAttribute("data-url",e.data("url")),r.click()),i.addClass("open-widget-editor"),!1}},e.plugin=function(n){return this.each(function(){var i,r=t(this),d=r.data(o);if(!d){if(/destroy/.test(n))return;r.data(o,d=new e(this,n))}"string"==typeof n&&t.isFunction(i=d[n])&&i.apply(d)})},t(function(){i.attr("data-toggle","qor.widgets"),t(".qor-widget").each(function(){var e=t(this),i=e.children().eq(0);n=e.data("widget-inline-edit-url"),i.css("position","relative").addClass("qor-widget").unwrap(),i.append('<div class="qor-widget-embed-wrapper"><button style="display: none;" data-url="'+e.data("url")+'" class="qor-widget-button">Edit</button></div>')});var o='[data-toggle="qor.widgets"]';t(document).on(d,function(n){e.plugin.call(t(o,n.target),"destroy")}).on(r,function(n){e.plugin.call(t(o,n.target))}).triggerHandler(r)}),e});