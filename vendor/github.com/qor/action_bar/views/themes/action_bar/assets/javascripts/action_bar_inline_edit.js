!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function n(i,e){this.$element=t(i),this.options=t.extend({},n.DEFAULTS,t.isPlainObject(e)&&e),this.init()}var i,e=t("body"),o="qor.actionbar.inlineEdit",a="enable."+o,r="disable."+o,c="click."+o,u=".qor-actionbar-button",d="qor-actionbar-iframe";return n.prototype={constructor:n,init:function(){this.bind(),this.initStatus()},bind:function(){this.$element.on(c,u,this.click),t(document).on("keyup",this.keyup)},initStatus:function(){var n=document.createElement("iframe");n.src=i,n.id=d,n.attachEvent?n.attachEvent("onload",function(){t(".qor-actionbar-button").show()}):n.onload=function(){t(".qor-actionbar-button").show()},document.body.appendChild(n)},keyup:function(t){var n=document.getElementById("qor-actionbar-iframe");27===t.keyCode&&n&&n.contentDocument.querySelector(".qor-slideout__close").click()},click:function(){var n=t(this),i=document.getElementById("qor-actionbar-iframe"),o=i.contentWindow.$,a=i.contentDocument.querySelector(".js-actionbar-edit-link");return a?(i.classList.add("show"),o?o(".js-actionbar-edit-link").attr("data-url",n.data("url")).click():(a.setAttribute("data-url",n.data("url")),a.click()),e.addClass("open-actionbar-editor"),!1):void 0}},n.plugin=function(i){return this.each(function(){var e,a=t(this),r=a.data(o);if(!r){if(/destroy/.test(i))return;a.data(o,r=new n(this,i))}"string"==typeof i&&t.isFunction(e=r[i])&&e.apply(r)})},t(function(){e.attr("data-toggle","qor.actionbars");var o='[data-toggle="qor.actionbars"]';t(".qor-actionbar-button").each(function(n,e){i=t(e).data("iframe-url")}),t(document).on(r,function(i){n.plugin.call(t(o,i.target),"destroy")}).on(a,function(i){n.plugin.call(t(o,i.target))}).triggerHandler(a)}),n});